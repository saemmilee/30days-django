<!DOCTYPE html>
 {% load static %}
<html lang="ko">
<head>
    <!--meta-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--css-->
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
    <title>check</title>
</head>
<body>

<div id="check">

    <div id="check_cal1">
        <!-- BMI 계산기 start -->
        <h3 id="BMIcalComment">🖐 BMI 계산기 🖐</h3>

        <input type="text" id="weight" placeholder="WEIGHT">
        <input type="text" id="height" placeholder="HEIGHT">

        <button type="button" onclick="BMIcal()">계산하기</button> <br>
    </div>

    <div id="check_cal2">
        <h5>당신의 BMI 결과는</h5>
        <input type="text" id="result">
        <h5>입니다. </h5>
        <!-- BMI 계산기 end -->

        <!-- 지수 나타내기 -->
        <h5 id="index"></h5>
    </div>

    <div>
         <!-- 회원가입 버튼 -->
         <button type="button" id="joinBtn" value="회원가입" onclick="location.href='{% url 'common:signup' %}'" style="display:none;">회원가입</button>
    </div>

    <div id="check_intro">
        <p>BMI 검사의 정확한 명칭은 신체질량지수(Body Mass Index)로 신장과 체중의 비율을 사용한 체중의 객관적인 지수를 말합니다.</p>
        <p>저희 작심삼십일은 BMI 검사 결과가 비만/고도비만/초고도비만 인분들만 회원가입을 진행하실 수 있습니다. </p>
    </div>

</div>

    <script>

        var result;
        var joinButton = document.getElementById("joinBtn");

        function BMIcal(){
            var weight = document.getElementById("weight").value;
            var height = document.getElementById("height").value;

            if(weight == 0 || height == 0){
                result = "";
                alert("다시 입력해주세요.");
            }else{
                result = weight/(height*height*0.0001);
                index();
            }

            document.getElementById("result").value = result;
        }


        function index(){
            if(result >= 35){
                document.getElementById("index").innerHTML="초고도비만입니다.";
                joinButton.style.display="block";

            }else if(result >= 30){
                document.getElementById("index").innerHTML="고도비만입니다.";
                joinButton.style.display="block";

            }else if(result >= 25){
                document.getElementById("index").innerHTML="고도비만입니다.";
                joinButton.style.display="block";

            }else{
                document.getElementById("index").innerHTML="가입조건에 맞지않습니다.";
                joinButton.style.display="none";
            }

        }

    </script>

</body>
</html>