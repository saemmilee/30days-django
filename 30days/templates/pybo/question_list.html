<!DOCTYPE html>
 {% load static %}
<html lang="ko">
<head>
    <!--meta-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--css-->
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
    <title>question_list</title>
</head>
<body>

<div id="question_list">

    <h2>ğŸ“‚ğŸ“‚ğŸ“‚</h2>

    <!-- ì§ˆë¬¸ ëª©ë¡-->
    <table id="QList">

        <thead>
        <tr>
            <th>ë²ˆí˜¸</th>
            <th>ì œëª©</th>
            <th>ë‹µë³€ìˆ˜</th>
            <th>ê¸€ì“´ì´</th>
        </tr>
        </thead>

        <tbody>
        {% if question_list %}
            {% for question in question_list %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td style="text-align: left"><a href="{% url 'pybo:detail' question.id %}">{{question.subject}}</a></td>
                <td>{{ question.answer_set.count }}</td>
                <td>{{ question.author.username }}</td>
            </tr>
            {% endfor %}
        {% else %}
        <p> ë“±ë¡ëœ ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
        </tbody>

    </table>
    <!-- ì§ˆë¬¸ ëª©ë¡ ë-->


    <br>

    <!-- í˜ì´ì§•ì²˜ë¦¬ ì‹œì‘ -->
    <ul class="paging">

        <!-- ì´ì „í˜ì´ì§€ -->
        <!-- ì´ì „ í˜ì´ì§€ê°€ ìˆë‹¤ë©´ 'ì´ì „' ë§í¬ê°€ í™œì„±í™”ë˜ì§€ë§Œ, ë°˜ëŒ€ë¡œ ì´ì „ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ 'ì´ì „' ë§í¬ëŠ” ë¹„í™œì„±í™”-->
        {% if question_list.has_previous %}
        <li class="page-link">
            <a href="?page={{ question_list.previous_page_number }}">ì´ì „</a>
        </li>
        {% else %}
        <li class="page-link">
            <a href="#">ì´ì „</a>
        </li>
        {% endif %}
        <!-- ì´ì „í˜ì´ì§€ ë -->

        <!-- ì£¼ìš”ì†ì„± -->
        <!-- .page_range : ì „ì²´ í˜ì´ì§€ ë²ˆí˜¸-->
        <!-- .number : í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸-->
        <!-- .previous_page_number : ì´ì „ í˜ì´ì§€ ë²ˆí˜¸ -->
        <!-- .next_page_number : ë‹¤ìŒ í˜ì´ì§€ ë²ˆí˜¸ -->

        <!-- í˜ì´ì§€ë¦¬ìŠ¤íŠ¸ -->
        {% for page_number in question_list.paginator.page_range %}
            <!-- í˜„ì¬í˜ì´ì§€ì—ì„œ -5í•œ ìˆ˜ì™€ +5í•œ í˜ì´ì§€ë¥¼ í¬í•¨í•œ ì‚¬ì´ì— ìˆëŠ” í˜ì´ì§€ë§Œ ì¶œë ¥ -->
            {% if page_number >= question_list.number|add:-5 and page_number <= question_list.number|add:5 %}
                <!-- ifë¬¸ì´ ì—†ì„ ì‹œì—ëŠ” í˜„ì¬í˜ì´ì§€ë§Œ ì¶œë ¥ : endif ë•Œë¬¸ì— ifë¬¸ì´ í•œë²ˆë§Œ ì‘ë™í•˜ëŠ” ê²ƒ ê°™ìŒ -->
                {% if page_number == question_list.number %}
                <li class="page-link">
                    <a href="?page={{ page_number }}">{{ page_number }}</a>
                </li>
                {% else %}
                <li class="page-link">
                    <a href="?page={{ page_number }}">{{ page_number }}</a>
                </li>
                {% endif %}
            {% endif %}
        {% endfor %}
        <!-- í˜ì´ì§€ë¦¬ìŠ¤íŠ¸ ë-->

        <!-- ë‹¤ìŒí˜ì´ì§€ -->
        <!-- ë‹¤ìŒ í˜ì´ì§€ê°€ ìˆë‹¤ë©´ 'ë‹¤ìŒ' ë§í¬ê°€ í™œì„±í™”ë˜ì§€ë§Œ, ë°˜ëŒ€ë¡œ ë‹¤ìŒ í˜ì´ì§€ê°€ ì—†ìœ¼ë©´ 'ë‹¤ìŒ' ë§í¬ëŠ” ë¹„í™œì„±í™”-->
        {% if question_list.has_next %}
        <li class="page-link">
            <a href="?page={{ question_list.next_page_number }}">ë‹¤ìŒ</a>
        </li>
        {% else %}
        <li class="page-link">
            <a href="#">ë‹¤ìŒ</a>
        </li>
        {% endif %}
        <!-- ë‹¤ìŒí˜ì´ì§€ ë-->

    </ul>
    <!-- í˜ì´ì§•ì²˜ë¦¬ ë -->


    <br>

    <!--ì§ˆë¬¸ ë“±ë¡ ë²„íŠ¼-->
    <button type="button" onClick="location.href='{% url 'pybo:question_create' %}'">REGISTER</button>
    <!--ë©”ì¸í™”ë©´ ì´ë™ ë²„íŠ¼-->
    <button type="button" onClick="location.href='{% url 'main:index' %}'">MAINPAGE</button>

</div>

</body>
</html>